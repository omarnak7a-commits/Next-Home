<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Next Home Egypt - Ø¥Ø¶Ø§ÙØ© Ø´Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø©</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="arabic light-mode">
    <!-- Navigation -->
    <header>
        <div class="container header-container">
            <a href="index.html" class="logo" id="homeLink">
                <div class="logo-icon">NH</div>
                <div class="logo-text">Next<span>Home</span></div>
            </a>
            <nav>
    <ul id="navList">
        <li><a href="index.html" class="active" id="navHome">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
        <li><a href="properties.html" id="navProperties">Ø§Ù„Ø´Ù‚Ù‚</a></li>
        <li><a href="about.html" id="navAbout">Ø¹Ù† Ø§Ù„Ù…Ù†ØµØ©</a></li>
        <li><a href="contact.html" id="navContact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
    </ul>
</nav>
<div class="auth-buttons">
    <button class="notifications-icon" id="notificationsBtn" style="display: none;">
        <i class="fas fa-bell"></i>
        <span class="notification-badge" id="notificationBadge" style="display: none;">0</span>
    </button>
    <button class="settings-icon" id="settingsBtn">
        <i class="fas fa-cog"></i>
    </button>
    <div class="profile-icon" id="profileIcon" style="display: none;">
        <i class="fas fa-user"></i>
    </div>
    <button class="btn btn-outline" id="authBtn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
</div>
            <div class="auth-buttons">
                <button class="theme-toggle" id="themeToggle">ğŸŒ™</button>
                <button class="language-toggle" id="langToggle">Ø¹Ø±Ø¨ÙŠ</button>
                <div class="profile-icon" id="profileIcon" style="display: none;">
                    <i class="fas fa-user"></i>
                </div>
                <button class="btn btn-outline" id="authBtn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
            </div>
        </div>
    </header>

    <!-- Add Property Page -->
    <main class="page active-page" id="addPropertyPage">
        <section class="section">
            <div class="container">
                <div class="section-title">
                    <h2>Ø¥Ø¶Ø§ÙØ© Ø´Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø©</h2>
                    <p>Ø£Ø¶Ù Ø´Ù‚ØªÙƒ Ù„Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ØºØªØ±Ø¨ÙŠÙ†</p>
                </div>
                <div class="auth-container">
                    <form id="addPropertyForm">
                        <div class="form-group">
                            <label for="propertyTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø´Ù‚Ø©</label>
                            <input type="text" id="propertyTitle" placeholder="Ù…Ø«Ø§Ù„: Ø´Ù‚Ø© Ø·Ù„Ø§Ø¨ÙŠØ© ÙÙŠ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©" required>
                        </div>
                        <div class="form-group">
                            <label for="propertyDescription">ÙˆØµÙ Ø§Ù„Ø´Ù‚Ø©</label>
                            <textarea id="propertyDescription" placeholder="ÙˆØµÙ Ù…ÙØµÙ„ Ù„Ù„Ø´Ù‚Ø© ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="propertyLocation">Ø§Ù„Ù…ÙˆÙ‚Ø¹</label>
                            <input type="text" id="propertyLocation" placeholder="Ø§Ù„Ù…Ù†Ø·Ù‚Ø©ØŒ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©" required>
                        </div>
                        <div class="form-group">
                            <label for="propertyCity">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
                            <select id="propertyCity" required>
                                <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
                                <option value="cairo">Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©</option>
                                <option value="alexandria">Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©</option>
                                <option value="mansoura">Ø§Ù„Ù…Ù†ØµÙˆØ±Ø©</option>
                                <option value="assuit">Ø£Ø³ÙŠÙˆØ·</option>
                                <option value="tanta">Ø·Ù†Ø·Ø§</option>
                                <option value="zagazig">Ø§Ù„Ø²Ù‚Ø§Ø²ÙŠÙ‚</option>
                                <option value="helwan">Ø­Ù„ÙˆØ§Ù†</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="propertyUniversity">Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù‚Ø±ÙŠØ¨Ø©</label>
                            <input type="text" id="propertyUniversity" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©" required>
                        </div>
                        <div class="form-group">
                            <label for="propertyPrice">Ø§Ù„Ø³Ø¹Ø± (Ø¬.Ù… / Ø´Ù‡Ø±)</label>
                            <input type="number" id="propertyPrice" placeholder="1800" required>
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="propertyBedrooms">Ø¹Ø¯Ø¯ ØºØ±Ù Ø§Ù„Ù†ÙˆÙ…</label>
                                <select id="propertyBedrooms" required>
                                    <option value="1">ØºØ±ÙØ© ÙˆØ§Ø­Ø¯Ø©</option>
                                    <option value="2">ØºØ±ÙØªÙŠÙ†</option>
                                    <option value="3">Ø«Ù„Ø§Ø« ØºØ±Ù</option>
                                    <option value="4">Ø£Ø±Ø¨Ø¹ ØºØ±Ù</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="propertyBathrooms">Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ù…Ø§Ù…Ø§Øª</label>
                                <select id="propertyBathrooms" required>
                                    <option value="1">Ø­Ù…Ø§Ù… ÙˆØ§Ø­Ø¯</option>
                                    <option value="2">Ø­Ù…Ø§Ù…ÙŠÙ†</option>
                                    <option value="3">Ø«Ù„Ø§Ø« Ø­Ù…Ø§Ù…Ø§Øª</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="propertyArea">Ø§Ù„Ù…Ø³Ø§Ø­Ø© (Ù…ØªØ± Ù…Ø±Ø¨Ø¹)</label>
                            <input type="number" id="propertyArea" placeholder="80" required>
                        </div>
                        <div class="form-group">
                            <label>Ø§Ù„Ù…Ø±Ø§ÙÙ‚</label>
                            <div class="amenities-checkboxes">
                                <label><input type="checkbox" value="wifi"> ÙˆØ§ÙŠ ÙØ§ÙŠ</label>
                                <label><input type="checkbox" value="parking"> Ù…ÙˆÙ‚Ù Ø³ÙŠØ§Ø±Ø§Øª</label>
                                <label><input type="checkbox" value="gym"> ØµØ§Ù„Ø© Ø±ÙŠØ§Ø¶ÙŠØ©</label>
                                <label><input type="checkbox" value="laundry"> ØºØ³Ø§Ù„Ø© ÙˆÙ†Ø´Ø§ÙØ©</label>
                                <label><input type="checkbox" value="security"> Ø£Ù…Ù† 24/7</label>
                                <label><input type="checkbox" value="cleaning"> Ø®Ø¯Ù…Ø§Øª Ù†Ø¸Ø§ÙØ©</label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="propertyImages">ØµÙˆØ± Ø§Ù„Ø´Ù‚Ø© (Ø§Ø®ØªØ± ØµÙˆØ± Ù…ØªØ¹Ø¯Ø¯Ø©)</label>
                            <input type="file" id="propertyImages" multiple accept="image/*">
                            <div class="image-preview" id="imagePreview"></div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø´Ù‚Ø©</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <script src="js/main.js"></script>
    <script>
        // Ø¹Ø±Ø¶ ØµÙˆØ± Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
        document.getElementById('propertyImages').addEventListener('change', function(e) {
            const preview = document.getElementById('imagePreview');
            preview.innerHTML = '';
            
            if (this.files && this.files[0]) {
                for (let i = 0; i < this.files.length; i++) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const img = document.createElement('img');
                        img.src = e.target.result;
                        img.style.width = '100px';
                        img.style.height = '100px';
                        img.style.margin = '5px';
                        img.style.borderRadius = '8px';
                        img.style.objectFit = 'cover';
                        preview.appendChild(img);
                    }
                    reader.readAsDataURL(this.files[i]);
                }
            }
        });
        
        // Ø¥Ø¶Ø§ÙØ© Ø´Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø©
        document.getElementById('addPropertyForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) {
                alert('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¥Ø¶Ø§ÙØ© Ø´Ù‚Ø©!');
                window.location.href = 'login.html';
                return;
            }
            
            const property = {
                id: Date.now(),
                title: document.getElementById('propertyTitle').value,
                description: document.getElementById('propertyDescription').value,
                location: document.getElementById('propertyLocation').value,
                city: document.getElementById('propertyCity').value,
                university: document.getElementById('propertyUniversity').value,
                price: parseInt(document.getElementById('propertyPrice').value),
                bedrooms: document.getElementById('propertyBedrooms').value,
                bathrooms: document.getElementById('propertyBathrooms').value,
                area: parseInt(document.getElementById('propertyArea').value),
                amenities: Array.from(document.querySelectorAll('.amenities-checkboxes input:checked')).map(cb => cb.value),
                images: [], // Ø§Ù„Ù…Ø´ÙˆØ±Ø©: Ø§Ù„ØµÙˆØ± Ù‡ØªØªØ­ÙØ¸ ÙƒÙ€ Base64
                ownerId: JSON.parse(currentUser).id,
                createdAt: new Date().toISOString(),
                available: true
            };
            
            // Ø­ÙØ¸ Ø§Ù„ØµÙˆØ± ÙƒÙ€ Base64 (Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© ÙÙ‚Ø· - ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ Ù…Ø­ØªØ§Ø¬ Ø³ÙŠØ±ÙØ±)
            const imageInput = document.getElementById('propertyImages');
            if (imageInput.files && imageInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    property.images.push(e.target.result);
                    saveProperty(property);
                }
                reader.readAsDataURL(imageInput.files[0]);
            } else {
                saveProperty(property);
            }
        });
        
        function saveProperty(property) {
            // Ø­ÙØ¸ Ø§Ù„Ø´Ù‚Ø© ÙÙŠ localStorage
            const properties = JSON.parse(localStorage.getItem('properties') || '[]');
            properties.push(property);
            localStorage.setItem('properties', JSON.stringify(properties));
            
            alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø´Ù‚Ø© Ø¨Ù†Ø¬Ø§Ø­!');
            window.location.href = 'properties.html';
        }
    </script>
    
    <style>
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .amenities-checkboxes {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .amenities-checkboxes label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }
        
        .image-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .amenities-checkboxes {
                grid-template-columns: 1fr;
            }
        }
    </style>
</body>
</html>